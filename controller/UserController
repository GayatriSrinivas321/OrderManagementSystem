@RequestMapping("/api/user")
@RestController
class UserController {
    
    @Autowired
    UserService userService;
    
    @PostMapping("/")
    public ResponseEntity<?> create(@ResponseBody User user) {
        try {
            buildSuccess(userService.create(user));
        } catch (Exception e) {
            buildError(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);
        }
    }
    
    
    @PostMapping("/{userId}")
    public ResponseEntity<?> update(@PathVariable("userId") int userId, @ResponseBody User user) {
        try {
            buildSuccess(userService.update(userId, user));
        } catch (Exception e) {
            buildError(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);
        }
    }
    
    @GetMapping("/{userId}")
    public ResponseEntity<?> getUserDetails(@PathVariable("userId") int userId) {
        try {
            buildSuccess(userService.get(userId));
        } catch (Exception e) {
            buildError(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);
        }
    }
    
    @DeleteMapping("/{userid}")
    public ResponseEntity<?> deleteUser(@PathVariable("userid") int userid) {
        try {
            buildSuccess(userService.delete(userId));
        } catch (Exception e) {
            buildError(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);
        }
    }
}